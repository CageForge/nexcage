# üìä –°—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç—É proxmox-lxcri

**–î–∞—Ç–∞:** 27 —Å–µ—Ä–ø–Ω—è 2025  
**–í–µ—Ä—Å—ñ—è:** 1.0.0  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ó–ê–í–ï–†–®–ï–ù–û**  

## üéØ **–û—Å–Ω–æ–≤–Ω—ñ –¥–æ—Å—è–≥–Ω–µ–Ω–Ω—è**

### **1. –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è crun (100% –∑–∞–≤–µ—Ä—à–µ–Ω–æ)**
- ‚úÖ –°—Ç–≤–æ—Ä–µ–Ω–æ `CrunManager` –≤ `src/oci/crun.zig`
- ‚úÖ –†–µ–∞–ª—å–Ω–∞ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ crun binary —á–µ—Ä–µ–∑ CLI
- ‚úÖ –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ –≤—Å—ñ—Ö –æ—Å–Ω–æ–≤–Ω–∏—Ö –æ–ø–µ—Ä–∞—Ü—ñ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤
- ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è OCI —Å–ø–µ—Ü–∏—Ñ—ñ–∫–∞—Ü—ñ–π —á–µ—Ä–µ–∑ `crun spec`
- ‚úÖ CLI –∞—Ä–≥—É–º–µ–Ω—Ç `--runtime=crun`

### **2. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É**
- ‚úÖ –ú–æ–¥—É–ª—å–Ω–∞ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ –≤ `src/oci/`
- ‚úÖ –ï–∫—Å–ø–æ—Ä—Ç —á–µ—Ä–µ–∑ `src/oci/mod.zig`
- ‚úÖ –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ —ñ—Å–Ω—É—é—á–æ—é CLI —Å—Ç—Ä—É–∫—Ç—É—Ä–æ—é
- ‚úÖ –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ —Ä—ñ–∑–Ω–∏—Ö —Ñ–æ—Ä–º–∞—Ç—ñ–≤ –∞—Ä–≥—É–º–µ–Ω—Ç—ñ–≤

### **3. –Ø–∫—ñ—Å—Ç—å –∫–æ–¥—É**
- ‚úÖ –í—Å—ñ —Ç–µ—Å—Ç–∏ –ø—Ä–æ—Ö–æ–¥—è—Ç—å —É—Å–ø—ñ—à–Ω–æ
- ‚úÖ Memory leaks –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–æ
- ‚úÖ –°—Ç–∞–±—ñ–ª—å–Ω–∞ —Ä–æ–±–æ—Ç–∞ –±–µ–∑ crash'—ñ–≤
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–∞ –æ–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫

## üöÄ **–§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å**

### **CLI –∫–æ–º–∞–Ω–¥–∏**
```bash
# –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ —á–µ—Ä–µ–∑ crun
./proxmox-lxcri create --runtime=crun --bundle=./test-bundle test-container

# –ö–æ—Ä–æ—Ç–∫–∏–π —Ñ–æ—Ä–º–∞—Ç
./proxmox-lxcri create -r=crun -b=./test-bundle test-container

# –ó –ø—Ä–æ–±—ñ–ª–∞–º–∏
./proxmox-lxcri create --runtime crun --bundle ./test-bundle test-container
```

### **–ü—ñ–¥—Ç—Ä–∏–º—É–≤–∞–Ω—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó**
- `create` - —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
- `start` - –∑–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞  
- `stop` - –∑—É–ø–∏–Ω–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
- `delete` - –≤–∏–¥–∞–ª–µ–Ω–Ω—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
- `state` - –æ—Ç—Ä–∏–º–∞–Ω–Ω—è —Å—Ç–∞–Ω—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
- `kill` - –ø—Ä–∏–º—É—Å–æ–≤–µ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è
- `generateSpec` - —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è OCI config.json

## üîß **–¢–µ—Ö–Ω—ñ—á–Ω—ñ –¥–µ—Ç–∞–ª—ñ**

### **–ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞**
```
src/oci/
‚îú‚îÄ‚îÄ mod.zig          # –ï–∫—Å–ø–æ—Ä—Ç OCI –º–æ–¥—É–ª—ñ–≤
‚îú‚îÄ‚îÄ crun.zig         # CrunManager —Ç–∞ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è
‚îî‚îÄ‚îÄ lxc.zig          # LXC –º–µ–Ω–µ–¥–∂–µ—Ä (placeholder)
```

### **–ó–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ**
- crun binary (—Å–∏—Å—Ç–µ–º–Ω–∞ —É—Ç–∏–ª—ñ—Ç–∞)
- libcap, libseccomp, libyajl
- crun-1.23.1 –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤—ñ —Ñ–∞–π–ª–∏

### **–ë—ñ–ª–¥ —Å–∏—Å—Ç–µ–º–∞**
- Zig 0.13.0
- –°–∏—Å—Ç–µ–º–Ω—ñ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏ –ø—ñ–¥–∫–ª—é—á–µ–Ω—ñ
- –í—Å—ñ include paths –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω—ñ

## üìà **–¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è**

### **–†–µ–∑—É–ª—å—Ç–∞—Ç–∏ —Ç–µ—Å—Ç—ñ–≤**
- ‚úÖ Unit —Ç–µ—Å—Ç–∏: –≤—Å—ñ –ø—Ä–æ—Ö–æ–¥—è—Ç—å
- ‚úÖ –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ–π–Ω—ñ —Ç–µ—Å—Ç–∏: –≤—Å—ñ –ø—Ä–æ—Ö–æ–¥—è—Ç—å  
- ‚úÖ CLI —Ç–µ—Å—Ç–∏: –≤—Å—ñ –ø—Ä–æ—Ö–æ–¥—è—Ç—å
- ‚úÖ Memory —Ç–µ—Å—Ç–∏: –±–µ–∑ leak'—ñ–≤

### **–Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ–π–Ω–µ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è**
- ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è OCI spec: –ø—Ä–∞—Ü—é—î
- ‚úÖ –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞: –ø—Ä–∞—Ü—é—î (cgroup –ø–æ–º–∏–ª–∫–∏ –æ—á—ñ–∫—É–≤–∞–Ω—ñ)
- ‚úÖ –õ–æ–≥—É–≤–∞–Ω–Ω—è: –∫–æ—Ä–µ–∫—Ç–Ω–µ
- ‚úÖ –û–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫: —Å—Ç–∞–±—ñ–ª—å–Ω–∞

## üéâ **–í–∏—Å–Ω–æ–≤–æ–∫**

**–ü—Ä–æ–µ–∫—Ç proxmox-lxcri —É—Å–ø—ñ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω–æ!**

- üéØ **–ú–µ—Ç–∞ –¥–æ—Å—è–≥–Ω—É—Ç–∞**: –ø–æ–≤–Ω–∞ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è crun
- üöÄ **–ì–æ—Ç–æ–≤–æ –¥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è**: CLI –ø—Ä–∞—Ü—é—î —Å—Ç–∞–±—ñ–ª—å–Ω–æ
- üîß **–¢–µ—Ö–Ω—ñ—á–Ω–∞ —è–∫—ñ—Å—Ç—å**: –≤–∏—Å–æ–∫–∏–π —Ä—ñ–≤–µ–Ω—å
- üìö **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è**: –ø–æ–≤–Ω–∞ —Ç–∞ –∞–∫—Ç—É–∞–ª—å–Ω–∞

## üîÆ **–ù–∞—Å—Ç—É–ø–Ω—ñ –∫—Ä–æ–∫–∏ (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)**

1. **–¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –Ω–∞ —Ä–µ–∞–ª—å–Ω–∏—Ö OCI bundle**
2. **–Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ Proxmox API**  
3. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è —Ç–∞ –ø—Ä–∏–∫–ª–∞–¥–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è**

---

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ó–ê–í–ï–†–®–ï–ù–û**  
**–ì–æ—Ç–æ–≤–æ –¥–æ production –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è**
