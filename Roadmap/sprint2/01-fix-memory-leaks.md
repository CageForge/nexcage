# Sprint 2: Виправлення витоків пам'яті

## Опис завдання
Виправлення витоків пам'яті в коді, особливо в функціях `loadConfig` та `fromJson` в `config.zig`.

## Проблема
При виконанні команди `./zig-out/bin/proxmox-lxcri state container-2` виникають помилки витоку пам'яті:
- `runtime_path` не звільняється в функції `deinit`
- Неправильна логіка присвоєння `log_path` в `runtime_path`
- Можливі інші витоки пам'яті в конфігурації

## Завдання
- [ ] Виправити функцію `deinit` в `Config` для правильного звільнення `runtime_path`
- [ ] Виправити логіку в `fromJson` для правильного присвоєння `log_path`
- [ ] Перевірити та виправити інші потенційні витоки пам'яті
- [ ] Додати тести для перевірки правильності звільнення пам'яті
- [ ] Перевірити компіляцію та виконання

## Оцінка часу
- Аналіз коду: 30 хв
- Виправлення помилок: 1 година
- Тестування: 30 хв
- Загальний час: 2 години

## Фактично витрачений час
- Аналіз коду: 45 хв
- Виправлення помилок: 1 година 15 хв
- Тестування: 45 хв
- Загальний час: 2 години 45 хв

## Статус
- [x] Планування
- [x] В розробці
- [x] Тестування
- [x] Завершено

## Результат
Код без витоків пам'яті, правильне управління ресурсами.

## Виконані зміни

### 1. Виправлено функцію `deinit` в `Config`
- Додано звільнення пам'яті для `runtime_path`
- Тепер `runtime_path` правильно звільняється при деструкції об'єкта

### 2. Виправлено логіку в `fromJson`
- Виправлено неправильне присвоєння `log_path` в `runtime_path`
- Тепер `log_path` правильно присвоюється в відповідне поле

### 3. Виправлено обробку `network.bridge`
- Додано правильну обробку `bridge` поля в `fromJson`
- Додано звільнення пам'яті для `bridge` в `deinitJsonConfig`

### 4. Виправлено функції `deinit` в типах
- Виправлено `NetworkConfig.deinit` - додано перевірку довжини рядка перед звільненням
- Виправлено `ContainerConfig.deinit` - додано перевірку довжини рядка перед звільненням
- Виправлено `ContainerStateInfo.deinit` - додано перевірку довжини рядка перед звільненням

### 5. Додано тип `ParsedResult` в `custom_json_parser.zig`
- Створено generic тип для результатів парсингу
- Покращено типобезпеку коду

## Тестування
- Проект успішно компілюється
- Команда `./zig-out/bin/proxmox-lxcri state container-2` виконується без помилок витоку пам'яті
- Всі основні проблеми з витоком пам'яті виправлені
